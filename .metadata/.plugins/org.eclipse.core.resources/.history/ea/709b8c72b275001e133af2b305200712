package deu.java002_02.server.service;

import java.io.BufferedReader;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStreamReader;

import deu.java002_02.ni.INetworkModule;
import deu.java002_02.ni.INetworkService;

public class FileMonitorService implements INetworkService
{
	@Override
	public void onService(INetworkModule _netModule)
	{
		String path = "C:/Programming/Java/StudyCafe/TestFiles/FileMonitorService.txt";
		try
		{
			FileInputStream input = new FileInputStream(path);
			InputStreamReader isr = new InputStreamReader(input);
			BufferedReader br = new BufferedReader(isr);

			try
			{
				_netModule.writeLine(br.readLine());
			}
			catch (IOException e)
			{
				// NOTE: End of File
				br.close();
				isr.close();
				input.close();
			}
		}
		catch (FileNotFoundException e)
		{
			System.out.println(String.format("파일을 찾을 수 없습니다."));
		}
	}
}