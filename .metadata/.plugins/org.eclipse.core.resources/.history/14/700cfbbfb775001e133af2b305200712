package deu.java002_02.tprovider.service;

import deu.java002_02.ni.INetworkService;
import deu.java002_02.tprovider.gui.TestGui;
import deu.java002_02.ni.INetworkModule;

public class TService01 implements INetworkService
{
	private TestGui m_gui;
	
	public TService01(TestGui _gui)
	{
		m_gui = _gui;
	}

	@Override
	public void onService(INetworkModule _netModule)
	{
		_netModule.writeLine("FILE_MONITOR_SERVICE");

		String line = _netModule.readLine();

		m_gui.getLabel().setText("");

		while(line != null && !line.equals("<EOF>"))
		{
			System.out.println("[" + line + "]");
			m_gui.getLabel().setText(m_gui.getLabel().getText() + line + "\n");

			line = _netModule.readLine();
		}
		System.out.println("[" + line + "]");
	}
}
